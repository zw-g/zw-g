name: Metrics
on:
  # Schedule daily updates
  schedule: [{cron: "0 * * * *"}]
  # (optional) Run workflow manually
  workflow_dispatch:
  # (optional) Run workflow when pushing on master/main
  push: {branches: ["master", "main"]}
jobs:
  metrics:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
  
      - name: general
        uses: lowlighter/metrics@latest
        with:
          filename: general-metric.svg
          token: ${{ secrets.METRICS_TOKEN }}
          config_timezone: America/Los_Angeles

          # base
          base: header #, activity, community, repositories, metadata
          base_indepth: yes
          base_hireable: yes

          # ğŸ“… Isometric commit calendar
          plugin_isocalendar: yes
          plugin_isocalendar_duration: half-year

          # ğŸˆ·ï¸ Languages activity
          plugin_languages: yes
          plugin_languages_other: yes
          plugin_languages_sections: most-used, recently-used
          plugin_languages_details: lines, percentage

          # ğŸ“Œ Starred topics
          #plugin_topics: yes
          #plugin_topics_limit: 0
          #plugin_topics_mode: icons
          
          # ğŸŒŸ Recently starred repositories
          plugin_stars: yes
          plugin_stars_limit: 2

          # ğŸ’¡ Coding habits and activity
          plugin_habits: yes
          plugin_habits_from: 1000
          plugin_habits_days: 30
          plugin_habits_facts: yes

          # ğŸ§‘â€ğŸ¤â€ğŸ§‘ People
          plugin_people: yes
          plugin_people_limit: 0
          plugin_people_identicons: yes
          plugin_people_size: 28 # type: number (8 â‰¤ ğ‘¥ â‰¤ 64)
          plugin_people_shuffle: yes
          
          # ğŸ† Achievements
          plugin_achievements: yes
          plugin_achievements_threshold: C
          plugin_achievements_secrets: yes
          plugin_achievements_display: compact
          plugin_achievements_limit: 0
          
          # ğŸ“° Recent activity
          plugin_activity: yes
          plugin_activity_limit: 3
          plugin_activity_load: 300 # type: number (100 â‰¤ ğ‘¥ â‰¤ 1000)
          plugin_activity_days: 365 # type: number (0 â‰¤ ğ‘¥ â‰¤ 365)

          # â™ Random code snippet
          plugin_code: yes
          plugin_code_lines: 12 # type: number (1 â‰¤ ğ‘¥ â‰¤ 128)
          plugin_code_load: 400 # type: number (100 â‰¤ ğ‘¥ â‰¤ 1000)
          plugin_code_days: 365 # type: number (0 â‰¤ ğ‘¥ â‰¤ 365)

          # ğŸ—³ï¸ Leetcode
          plugin_leetcode: yes
          plugin_leetcode_user: "zw-g"
          plugin_leetcode_sections: solved, skills, recent
          plugin_leetcode_limit_skills: 10 # type: number (0 â‰¤ ğ‘¥)
          plugin_leetcode_limit_recent: 2 #  type: number (1 â‰¤ ğ‘¥ â‰¤ 15)

          # ğŸ•¹ï¸ Steam
          plugin_steam_token: ${{ secrets.STEAM_TOKEN }}
          plugin_steam: yes
          plugin_steam_user: "76561198093054868"
          plugin_steam_sections: player, most-played, recently-played

          # Config order
          config_order: base.header, isocalendar, languages, people, stars, steam+habits, achievements, activity, code, leetcode
